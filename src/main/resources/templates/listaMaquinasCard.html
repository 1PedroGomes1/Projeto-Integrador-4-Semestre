<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Máquinas - Cards</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Estilos do projeto -->
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/busca.css">
    <link rel="stylesheet" href="/css/cardMaquinas.css">

    <script src="/js/sidebar.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
</head>

<body class="page-light">
    <!-- Sidebar -->
    <div th:replace="~{fragments/sidebar :: sidebar}"></div>

    <!-- CONTEÚDO PRINCIPAL (anda junto com a sidebar) -->
    <main class="main-content with-sidebar">
        <div class="container mt-4 mb-4">

            <h1 class="page-title">Lista de Máquinas - Cards</h1>
            <p class="page-subtitle">
                Visualização geral das máquinas cadastradas no sistema.
            </p>

            <!-- BUSCA -->
            <form action="/maquinas/buscar" method="get" class="search-shell mb-3">
                <div class="galaxy"></div>
                <div id="search-container">
                    <div class="nebula"></div>
                    <div class="starfield"></div>
                    <div class="cosmic-dust"></div>
                    <div class="cosmic-dust"></div>
                    <div class="cosmic-dust"></div>
                    <div class="stardust"></div>
                    <div class="cosmic-ring"></div>

                    <div id="main" class="d-flex align-items-center">
                        <input class="input flex-grow-1"
                               name="nome"
                               type="text"
                               placeholder="Buscar Máquina" />
                        <div id="input-mask"></div>
                        <div id="cosmic-glow"></div>
                        <div class="wormhole-border"></div>
                        <div id="search-icon">
                            <svg stroke-linejoin="round" stroke-linecap="round" stroke-width="2"
                                 stroke="url(#cosmic-search)" fill="none" height="24" width="24"
                                 viewBox="0 0 24 24">
                                <circle r="8" cy="11" cx="11"></circle>
                                <line y2="16.65" x2="16.65" y1="21" x1="21"></line>
                                <defs>
                                    <linearGradient gradientTransform="rotate(45)" id="cosmic-search">
                                        <stop stop-color="#a9c7ff" offset="0%"></stop>
                                        <stop stop-color="#6e8cff" offset="100%"></stop>
                                    </linearGradient>
                                </defs>
                            </svg>
                        </div>
                    </div>
                </div>
                <button2 type="submit"></button2>
            </form>

            <hr class="mt-2 mb-4">

            <!-- GRID DE CARDS -->
            <div class="row card-grid">
                <div class="col-md-4 mb-4" th:each="maquina : ${maquinas}">
                    <div class="card-machine">
                        <div class="card-machine__image">
                            <img th:src="${maquina.imagemUrl}"
                                 alt="Imagem da Máquina">
                        </div>

                        <div class="card-machine__body">
                            <h5 class="card-machine__title" th:text="${maquina.nome}">
                                Nome da Máquina
                            </h5>

                            <p class="card-machine__meta">
                                <strong>Status:</strong>
                                <span th:text="${maquina.status}">Em Campo</span><br>

                                <strong>Modelo:</strong>
                                <span th:text="${maquina.modelo}">Modelo</span><br>

                                <strong>Ano de Fabricação:</strong>
                                <span th:text="${maquina.anoFabricacao}">2020</span>
                            </p>

                            <a th:href="@{/maquinas/detalhes/{id}(id=${maquina.idMaquinas})}"
                               class="btn-details">
                                Ver detalhes
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
