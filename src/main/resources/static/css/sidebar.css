:root{
  /* LIGHT THEME (branco premium com profundidade sutil) */
  --sb-bg: #ffffff;                 /* fundo branco puro */
  --sb-bg-2: #ffffff;               /* mantém coeso */
  --sb-border: rgba(17,24,39,0.08); /* cinza neutro 900 @8% */
  --sb-text-strong: #0f172a;        /* quase preto (slate-900) */
  --sb-text: #111827;               /* texto principal */
  --sb-muted: #6b7280;              /* texto secundário */
  --sb-hover: rgba(17,24,39,0.05);  /* hover cinza claro visível */
  --sb-active: rgba(17,24,39,0.08); /* ativo com brilho suave */
  --sb-indicator: #111827;          /* indicador escuro (neutro) */

  --radius: 16px;
  --radius-sm: 12px;
  --shadow: 0 8px 24px rgba(0,0,0,0.06);
  --w: 280px;
  --w-collapsed: 92px;
}

/* Reset básico */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: #ffffff; /* página CLARA */
  color:var(--sb-text);
  font: 500 15px/1.5 "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Sidebar container (branca, com profundidade) */
.sidebar{
  position:fixed;
  inset:0 auto 0 0;
  width:var(--w);
  background:
    radial-gradient(1200px 600px at -200px -200px, rgba(17,24,39,0.05), transparent 60%),
    linear-gradient(180deg, var(--sb-bg) 0%, var(--sb-bg-2) 100%);
  border-right:1px solid var(--sb-border);
  box-shadow: var(--shadow);
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:14px;
  z-index:1000;
  transition: width .25s ease;
}

/* Collapsed */
.sidebar.is-collapsed{ width:var(--w-collapsed); }
.sidebar.is-collapsed .logo span,
.sidebar.is-collapsed .sb-item span,
.sidebar.is-collapsed .sb-section-label{ opacity:0; pointer-events:none; width:0; }
.sidebar.is-collapsed .sb-header{ justify-content:center; }
.sidebar.is-collapsed .sb-footer{ justify-content:center; }

/* Header (branco, glass leve) */
.sb-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px;
  border:1px solid var(--sb-border);
  border-radius:var(--radius);
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(6px) saturate(120%);
}
.sb-toggle{
  border:0;
  background:transparent;
  color:var(--sb-muted);
  font-size:18px;
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
  transition: background .2s ease, color .2s ease;
}
.sb-toggle:hover{ background: var(--sb-hover); color: var(--sb-text-strong); }

.logo{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:700;
  letter-spacing:0.2px;
  color: var(--sb-text-strong);
}
.logo i{
  font-size:18px;
  padding:10px;
  border-radius:12px;
  background: linear-gradient(135deg, rgba(17,24,39,0.06), rgba(17,24,39,0.03));
  border:1px solid var(--sb-border);
}
.logo span{ font-size:16px; }

/* Nav */
.sb-nav{
  display:flex;
  flex-direction:column;
  gap:6px;
  overflow:auto;
  padding-right:4px;
}
.sb-section-label{
  margin:14px 8px 6px;
  color:var(--sb-muted);
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:.12em;
}

/* Item (texto cinza claro por padrão) */
.sb-item{
  position:relative;
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 12px;
  border-radius:var(--radius-sm);
  color:var(--sb-muted);             /* cinza claro padrão */
  text-decoration:none;
  border:1px solid transparent;
  transition:
    background .2s ease,
    border-color .2s ease,
    transform .08s ease,
    color .2s ease,
    box-shadow .2s ease;
  backdrop-filter: blur(0px);
}
.sb-item i{
  font-size:18px;
  width:22px;
  text-align:center;
  color: var(--sb-text); /* ícones em tom escuro suave */
  opacity:.85;
}
.sb-item span{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* Hover: vidro branco visível + texto escurece (branco não é necessário em tema claro) */
.sb-item:hover{
  background: var(--sb-hover);
  border-color: var(--sb-border);
  color: var(--sb-text-strong);
  box-shadow:
    inset 0 0 0 1px rgba(17,24,39,0.08),
    0 6px 22px rgba(17,24,39,0.06);
  backdrop-filter: blur(8px) saturate(115%);
}
.sb-item:active{ transform: translateY(1px); }

/* Indicador (traço escuro sutil) */
.sb-indicator{
  position:absolute;
  left:4px;
  top:50%;
  transform:translateY(-50%);
  width:4px;
  height:0px;
  border-radius:4px;
  background: var(--sb-indicator);
  opacity:0;
  transition: height .2s ease, opacity .2s ease;
}

/* Ativo: fundo cinza muito claro + texto forte */
.sb-item[data-active]{
  background: var(--sb-active);
  border-color: rgba(17,24,39,0.14);
  color: var(--sb-text-strong);
  box-shadow:
    inset 0 0 0 1px rgba(17,24,39,0.10),
    0 10px 28px rgba(17,24,39,0.08);
  backdrop-filter: blur(10px) saturate(120%);
}
.sb-item[data-active] .sb-indicator{
  height:60%;
  opacity:1;
}

/* Footer (ações rápidas) */
.sb-footer{
  margin-top:auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  padding:8px;
  border-top:1px solid var(--sb-border);
}
.sb-mini{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:44px; height:44px;
  border-radius:12px;
  color:var(--sb-muted);
  text-decoration:none;
  border:1px solid var(--sb-border);
  background: rgba(255,255,255,0.9);
  transition: background .2s ease, border-color .2s ease, transform .08s ease, color .2s ease, box-shadow .2s ease;
}
.sb-mini i{ font-size:16px; opacity:.9; color: var(--sb-text); }
.sb-mini:hover{
  background: var(--sb-hover);
  color: var(--sb-text-strong);
  border-color: rgba(17,24,39,0.14);
  box-shadow:
    inset 0 0 0 1px rgba(17,24,39,0.10),
    0 6px 22px rgba(17,24,39,0.06);
  backdrop-filter: blur(8px) saturate(115%);
}
.sb-mini:active{ transform: translateY(1px); }

/* Scrollbar discreta (clara) */
.sb-nav::-webkit-scrollbar{ width:8px; }
.sb-nav::-webkit-scrollbar-thumb{
  background: rgba(17,24,39,0.12);
  border-radius: 10px;
}
.sb-nav::-webkit-scrollbar-track{ background: transparent; }

/* Responsivo */
@media (max-height: 680px){
  .sb-header{ padding:8px }
  .sb-item{ padding:10px 10px }
  .sb-mini{ width:40px; height:40px }
}

/* Blindagem contra CSS global (button.css, etc.) */
.sidebar .sb-header .sb-toggle {
  all: unset;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px 10px;
  border-radius: 10px;
  cursor: pointer;
  color: var(--sb-muted);
  line-height: 1;
  /* garante que NADA roxo/gradiente vaze */
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}
.sidebar .sb-header .sb-toggle:hover {
  background: var(--sb-hover) !important;
  color: var(--sb-text-strong) !important;
}

/* Mini botões do rodapé protegidos de estilos globais */
.sidebar .sb-footer .sb-mini {
  all: unset;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 44px; height: 44px;
  border-radius: 12px;
  color: var(--sb-muted);
  text-decoration: none;
  border: 1px solid var(--sb-border);
  background: rgba(255,255,255,0.9);
  transition: background .2s ease, border-color .2s ease, transform .08s ease, color .2s ease, box-shadow .2s ease;
}
.sidebar .sb-footer .sb-mini:hover {
  background: var(--sb-hover);
  color: var(--sb-text-strong);
  border-color: rgba(17,24,39,0.14);
  box-shadow:
    inset 0 0 0 1px rgba(17,24,39,0.10),
    0 6px 22px rgba(17,24,39,0.06);
}

/* Ícone dentro dos botões blindados */
.sidebar .sb-header .sb-toggle i,
.sidebar .sb-footer .sb-mini i {
  font-size: 16px;
  color: var(--sb-text);
  opacity: .9;
}

/* Garantia de clique e camada acima de overlays locais */
.sidebar .sb-header { position: relative; z-index: 1001; }
.sidebar .sb-header .sb-toggle {
  position: relative;
  z-index: 1002;
  pointer-events: auto;
}

/* =========================
   COLAPSED — limpeza total
   ========================= */

/* dimensões gerais e padding menor */
.sidebar.is-collapsed{
  width: var(--w-collapsed);
  padding: 10px 8px;
}

/* HEADER: burger + logo juntinhos, sem “pílula” no logo/burger */
.sidebar.is-collapsed .sb-header{
  justify-content: center;
  align-items: center;
  gap: 6px;
  padding: 6px 8px;
}
.sidebar.is-collapsed .logo span{ display:none }
.sidebar.is-collapsed .logo i{
  padding:0; margin:0;
  background:transparent !important; border:0 !important;
  font-size:18px; line-height:1;
}
.sidebar.is-collapsed .sb-toggle{
  background:transparent !important; border:0 !important;
  box-shadow:none !important; padding:8px; line-height:1;
}

/* NAV: remove margens/resíduos e padroniza espaçamento */
.sidebar.is-collapsed .sb-nav{
  padding-right:0;
  gap: 10px;                 /* respiro consistente entre itens */
}
.sidebar.is-collapsed .sb-nav > *{ margin:0 !important }

/* Labels somem de vez (não ocupam espaço) */
.sidebar.is-collapsed .sb-section-label{ display:none !important }

/* ANCORAS: nunca recebem fundo/sombra no colapso */
.sidebar.is-collapsed .sb-item{
  justify-content:center;
  align-items:center;
  height:40px;
  padding:0;
  gap:0;
  background:transparent !important;
  border-color:transparent !important;
  box-shadow:none !important;
  backdrop-filter:none !important;
}

/* ÍCONES: são o alvo do hover/ativo (pílula pequena só neles) */
.sidebar.is-collapsed .sb-item i{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:36px; height:36px;
  margin:0;
  text-align:center;
  font-size:18px;
  line-height:1;
  border-radius:12px;
  background:transparent !important;
  box-shadow:none !important;
}

/* Hover/focus no ícone */
.sidebar.is-collapsed .sb-item:hover i,
.sidebar.is-collapsed .sb-item:focus-visible i{
  background: var(--sb-hover) !important;
  box-shadow:
    inset 0 0 0 1px rgba(17,24,39,0.08),
    0 6px 18px rgba(17,24,39,0.06) !important;
}

/* Ativo: só o ícone fica marcado (nunca a âncora inteira) */
.sidebar.is-collapsed .sb-item[data-active]{
  background:transparent !important;
  border-color:transparent !important;
  box-shadow:none !important;
}
.sidebar.is-collapsed .sb-item[data-active] i{
  background: var(--sb-active) !important;
  box-shadow:
    inset 0 0 0 1px rgba(17,24,39,0.10),
    0 8px 20px rgba(17,24,39,0.08) !important;
}

/* Indicador lateral fora no colapso */
.sidebar.is-collapsed .sb-indicator{ display:none !important }

/* FOOTER: mesmo padrão (sem fundo fixo, hover só no botão) */
.sidebar.is-collapsed .sb-footer{
  justify-content:center;
  gap:8px;
  padding:6px 8px;
  border-top:1px solid var(--sb-border);
}
.sidebar.is-collapsed .sb-footer .sb-mini{
  all: unset;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:40px; height:40px;
  border-radius:12px;
  color: var(--sb-text);
  cursor:pointer;
}
.sidebar.is-collapsed .sb-footer .sb-mini:hover{
  background: var(--sb-hover);
  box-shadow:
    inset 0 0 0 1px rgba(17,24,39,0.08),
    0 6px 18px rgba(17,24,39,0.06);
}

/* Transições suaves (inclui altura/padding/gap) */
.sidebar,
.sidebar .sb-item,
.sidebar .sb-header,
.sidebar .sb-footer,
.sidebar .sb-nav{
  transition:
    width .25s ease,
    padding .2s ease,
    margin .2s ease,
    gap .2s ease,
    height .2s ease,
    box-shadow .2s ease;
}

/* =========================
   Conteúdo acompanhando a sidebar
   ========================= */
/* Use <main class="with-sidebar">...</main> ou adicione a classe na sua .container */
.with-sidebar{
  margin-left: var(--w);
  transition: margin-left .25s ease;
}
body.sb-collapsed .with-sidebar{
  margin-left: var(--w-collapsed);
}

